<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Question</title>
    <link rel="stylesheet" href="css/style.css">
 <script>
     var remote = require('electron').remote;
     var props = remote.getGlobal('sharedObj').props;
     var ipcRenderer = require('electron').ipcRenderer;

     var hasAnswer = false;
     console.log(remote.getGlobal('sharedObj').props);

     function submit(e) {
         e.preventDefault();
         if (hasAnswer) return ;
         var input = document.getElementById("answer");
         var value = input.value;

         console.log("submit");
         ipcRenderer.send("submit", {value: value});
         hasAnswer = true;
     }
    function init() {
      document.getElementById("answer")
      .addEventListener("keyup", function(e) {
        e.preventDefault();
          if (event.keyCode == 13) {submit(e);
        }
      });
    }
  </script>
  </head>
  <body onload="init()">
    <div class="background-image"></div>
    <div class="content">
        <h1 id="title">Histoire</h1>
        <div id="modal-content">
            <div id="question"><script>document.write(props.question)</script></div>
            <hr />
            <input type="text" id="answer" onkeydown=""autofocus></input>
        </div>
    </div>
  </body>
</html>
